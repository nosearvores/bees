/**
 * Vertical Rhythm stylus
 *
 * Variables
 */
$remBase = 18px
$scaleRatio = 1.5

/**
 * Vertical Rhythm stylus
 *
 * Functions
 */
// px2rem
px2rem($value, $base=$remBase)
  $u = unit($value)
  if ($u is 'px')
    return unit($value/$base, 'rem')
  else
    return unit($value, $u)

// baseline
baseline($u='rem')
  unit(px2rem($remBase * $scaleRatio), $u)

// lines unit
lines($num, $base=baseline())
  ($num * $base)

// modular scale
modular-scale($value, $step, $ratio=$scaleRatio)
  ($value * ($ratio ** $step))

/**
 * Vertical Rhythm stylus
 *
 * Mixins
 */

modular-font($size, $lineSize=1)
  font-size modular-scale(1rem, $size, $scaleRatio)
  line-height lines($lineSize)

base-font($factor=0)
  // redefine base
  $remBase = ($remBase + $factor)

  font-size $remBase
  line-height lines(1)

smaller()
  modular-font -0.8

xx-small()
  modular-font -0.6

x-small()
  modular-font -0.4

small()
  modular-font -0.2

medium()
  modular-font 0

large()
  modular-font 1, 2

x-large()
  modular-font 2, 2

xx-large()
  modular-font 3, 3

larger()
  modular-font 4, 3
